<html>
	<head>
	<title>ECharts</title>
	<!-- 引入 echarts.js -->
	<script src="echarts.min.js"></script>

	<script type="text/javascript">
		function show_curve(myChart, timeData1, date, data){
		
				var timeData = timeData1
				var date_s = []
				for(var i=0; i<date.length; i++){
					date_s[i] = date[i].toString();
				}
				option = {
					title: {
						text: '雨量流量关系图',
						subtext: '数据来自西安兰特水电测控技术有限公司',
						x: 'center'
					},
					tooltip: {
						trigger: 'axis',
						formatter: function (params) {
							return params[0].seriesName + '<br/>'
							+ params[0].name + '点:' + params[0].value + ' (bits)<br/>';
						},
						axisPointer: {
							animation: false
						}
					},
					legend: {
						data:date_s,
						x: 'left'
					},
					grid: [{
							left: 50,
							right: 50,
							height: '35%'
						}, {
							left: 50,
							right: 50,
							top: '55%',
							height: '35%'
					}],
					xAxis : [
					{
						type : 'category',
						boundaryGap : false,
						axisLine: {onZero: true},
						data: timeData
					},
					{
						gridIndex: 1,
						type : 'category',
						boundaryGap : false,
						axisLine: {onZero: true},
						data: timeData,
					}
					],
					yAxis : [
					{
						name : '流量(b/h)',
						type : 'value',
					},
					{
						gridIndex: 1,
						name : '流量(b/h)',
						type : 'value',
					}
					],
					series : [
					{
						name:date_s[0],
						type:'line',
						symbolSize: 8,
						hoverAnimation: false,
						data:data[0]
					},
					{
						name:date_s[1],
						type:'line',
						xAxisIndex: 1,
						yAxisIndex: 1,
						symbolSize: 8,
						hoverAnimation: false,
						data:data[1]
					},{
						name:date_s[2],
						type:'line',
						symbolSize: 8,
						hoverAnimation: false,
						data:data[1]
					},
					{
						name:date_s[3],
						type:'line',
						xAxisIndex: 1,
						yAxisIndex: 1,
						symbolSize: 8,
						hoverAnimation: false,
						data:data[0]
					}
					]
				};

				return option;
			}
			
	</script>	
	</head>
<body>
<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
<div id="main" style="width: 800px;height:600px;"></div>

	
	<script type="text/javascript">
	// 基于准备好的dom，初始化echarts实例
				var myChart = echarts.init(document.getElementById('main'));
				// 使用刚指定的配置项和数据显示图表。
				myChart.setOption(show_curve(myChart, {{data.timeData}}, {{data.date}}, {{data.data}}));
	</script>
</body>

</html>
